- name: vcptcore-qa
  gitops: true
  production: false
  servicePlan: S2
  platform:
    imageRepository: virtopaasregistrymain.azurecr.io/vcptcore/platform
    imageTag: 3.812.0-alpha.12873-vcst-567-counter-2c3cae8c-3c6554d
    sqlReplica: false
    config:
      FileUpload__RootPath: attachments
      FileUpload__Scopes__0__Scope: quote-attachments
      FileUpload__Scopes__0__MaxFileSize: 1000000
      FileUpload__Scopes__0__AllowedExtensions__0: .csv
      FileUpload__Scopes__0__AllowedExtensions__1: .docx
      FileUpload__Scopes__0__AllowedExtensions__2: .jpg
      FileUpload__Scopes__0__AllowedExtensions__3: .pdf
      FileUpload__Scopes__0__AllowedExtensions__4: .png
      FileUpload__Scopes__0__AllowedExtensions__5: .txt
      FileUpload__Scopes__0__AllowedExtensions__6: .xlsx
      DOTNET_USE_POLLING_FILE_WATCHER: true
      Reload: 22
      #ConnectionStrings__AzureAppConfigurationConnectionString: "Endpoint=https://qa-vc-app-config.azconfig.io;Id=BvwK;Secret=nbF7kOXCU14+qCF5OtP4LR63zfbSyDx6th46bIWkUHQ="
      Serilog__Using__0: Serilog.Sinks.Console
      #Serilog__Using__1: Serilog.Sinks.ApplicationInsights
      Serilog__MinimumLevel__Default: "Information"
      #Serilog__WriteTo__0: Console
      #Serilog__WriteTo__1__Name: ApplicationInsights
      #Serilog__WriteTo__1__Args__telemetryConverter: Serilog.Sinks.ApplicationInsights.TelemetryConverters.TraceTelemetryConverter, Serilog.Sinks.ApplicationInsights
      #Serilog__WriteTo__1__Args__restrictedToMinimumLevel: "Information"
      VirtoCommerce__SampleDataUrl: "https://virtocommerce.azureedge.net/sample-data/b2b-sample-store.zip"
      #VirtoCommerce__PlatformUI__Enable: false
      TaxModule__FixedRateTaxProvider__Enabled: true
      Notifications__DefaultSender: azure_25da07ed75daacae20578a7a7dc58541@azure.com
      Notifications__Gateway: SendGrid
      Notifications__SmsDefaultSender: +17012510519
      Notifications__Smtp__EnableSsl: False
      Notifications__Smtp__Host: smtp.sendgrid.net
      Notifications__Smtp__Login: apikey
      Notifications__Smtp__Port: 587
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_FORWARDEDHEADERS_ENABLED: true
      VirtoCommerce__GraphQLPlayground__Enable: true
      VirtoCommerce__Swagger__Enable: true
      VirtoCommerce__Stores__DefaultStore: B2B-store
      PushNotifications__ForceWebSockets: true
      PushNotifications__ScalabilityMode: RedisBackplane
      PushNotifications__HubUrl: https://vcptcore-qa.govirto.com/pushNotificationHub?api_key=97f1f3e3-f547-4642-a536-4dcb51a2dce1
      PushNotifications__RedisBackplane__ChannelName: vcptcore-qa-chanel
      PushMessages__UseFirebaseCloudMessaging: true
      PushMessages__FcmSenderOptions__Type: service_account
      PushMessages__FcmSenderOptions__ProjectId: vcptcore-qa
      PushMessages__FcmSenderOptions__PrivateKeyId: 46979e20ed5db1673ae83b83d01b24ad142c68ab
      PushMessages__FcmSenderOptions__ClientEmail: firebase-adminsdk-fb4ea@vcptcore-qa.iam.gserviceaccount.com
      PushMessages__FcmSenderOptions__ClientId: 110684419668943183491
      PushMessages__FcmSenderOptions__AuthUri: https://accounts.google.com/o/oauth2/auth
      PushMessages__FcmSenderOptions__TokenUri: https://oauth2.googleapis.com/token
      PushMessages__FcmSenderOptions__AuthProviderX509CertUrl: https://www.googleapis.com/oauth2/v1/certs
      PushMessages__FcmSenderOptions__ClientX509CertUrl: https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fb4ea%40vcptcore-qa.iam.gserviceaccount.com
      PushMessages__FcmSenderOptions__UniverseDomain: googleapis.com
      PushMessages__FcmReceiverOptions__ApiKey: AIzaSyD4YXs4pSO11Gb95ecyd7oRl8wV6SUM_jU
      PushMessages__FcmReceiverOptions__AuthDomain: vcptcore-qa.firebaseapp.com
      PushMessages__FcmReceiverOptions__ProjectId: vcptcore-qa
      PushMessages__FcmReceiverOptions__StorageBucket: vcptcore-qa.appspot.com
      PushMessages__FcmReceiverOptions__MessagingSenderId: 995027985115
      PushMessages__FcmReceiverOptions__AppId: 1:995027985115:web:324f963313f91886e5e2fe
      PushMessages__FcmReceiverOptions__VapidKey: BC8WwWRnCNgs_slIACjwBrNu_iQSiY7xlq48NBSobEITxzye9L_K_aEmMdB1LWPn7dMX2G8zm4LcLrklHgW-4iY
      Search__OrderFullTextSearchEnabled: true
      Search__ContentFullTextSearchEnabled: true
      Search__DocumentScopes__0__DocumentType: Product
      Search__DocumentScopes__0__Scope: vcptcore-qa-platformvcptcore-scope11
      Search__DocumentScopes__2__DocumentType: Category
      Search__DocumentScopes__2__Scope: vcptcore-qa-platformvcptcore-scope55
      Search__DocumentScopes__3__DocumentType: Member
      Search__DocumentScopes__3__Scope: vcptcore-qa-platformvcptcore-scope33
      Search__DocumentScopes__4__DocumentType: CustomerOrder
      Search__DocumentScopes__4__Scope: vcptcore-qa-platformvcptcore-scope44
      Search__DocumentScopes__5__DocumentType: ContentFile
      Search__DocumentScopes__5__Scope: vcptcore-qa-platformvcptcore-scope66
      Search__ElasticSearch__EnableCompatibilityMode: true
      Search__ElasticSearch__HealthCheckTimeout: 10
      #Search__Provider: AzureSearch
      Search__Provider: ElasticSearch
      Search__ElasticSearch8__Server: "https://9ee71e924ebd4bf7808b9a239417301f.westus2.azure.elastic-cloud.com:443"
      Search__ElasticSearch8__User: "elastic"
      Search__ElasticSearch8__Key: "4dy4GASkk72r8MEYA9f2Y85U"
      Search__ElasticAppSearch__EnableHttpCompression: true
      Search__ElasticAppSearch__Endpoint: https://enterprise-search-vc03.govirto.com
      Search__AzureSearch__SearchServiceName: qa-demovc-3-search
      Search__AzureSearch__Key: 6BE1143312E89C26C227E6BBAE24DD47
      Search__AzureSearch__QueryParserType: Full
      Search__AzureSearch__Endpoint: https://qa-demovc-3-search.search.windows.net
      Google__Enabled: true
      Google__AuthenticationType: Google
      Google__AuthenticationCaption: Google
      Google__ClientId: abc
      Google__ClientSecret: abc
      Google__DefaultUserType: Manager
      AzureAd__Enabled: true
      AzureAd__Priority: 1
      AzureAd__ApplicationId: 86d04c35-143d-4d3c-aea2-8608e2186282
      AzureAd__TenantId: common
      AzureAd__ValidateIssuer: MultitenantAzureAD
      AzureAd__UseEmail: true
      AzureAd__DefaultUserType: Manager
      AzureAd__DefaultUserRoles__0: Purchasing agent
      AzureAd__DefaultUserRoles__1: Order manager
      PasswordLogin__Enabled: true
      PasswordLogin__Priority: 0
      Content__FileSystem__PublicUrl: https://vcptcore-qa.govirto.com/cms-content/
      Assets__FileSystem__PublicUrl: https://vcptcore-qa.govirto.com/cms-content/assets/
      Assets__Provider: FileSystem
      #Assets__AzureBlobStorage__ConnectionString: DefaultEndpointsProtocol=https;AccountName=qademovc3;AccountKey=qPIpM63MI2P3ei6B1xIL4/DlKDqdsRj54z2GUtgCAeXPcMe8+mZiUvrvI5fjdyrovk331XmBlMFfAEFAjCnvtw==;EndpointSuffix=core.windows.net
      Assets__AzureBlobStorage__ConnectionString: BlobEndpoint=https://qademovc3.blob.core.windows.net/;QueueEndpoint=https://qademovc3.queue.core.windows.net/;FileEndpoint=https://qademovc3.file.core.windows.net/;TableEndpoint=https://qademovc3.table.core.windows.net/;SharedAccessSignature=sv=2022-11-02&ss=bfqt&srt=sco&sp=rwdlacupiytfx&se=2025-02-27T00:34:20Z&st=2024-02-26T16:34:20Z&spr=https&sig=QSyd83bPIqXYfQAK9AhGgdXaXYmPsSz450OGegOnZUE%3D
      Assets__AzureBlobStorage__RootPath: catalog
      Assets__AzureBlobStorage__AllowBlobPublicAccess: true
      Content__Provider: FileSystem
      #Content__Provider: AzureBlobStorage
      Content__PathMappings__pages__0: Themes
      Content__PathMappings__pages__1: _storeId
      Content__PathMappings__pages__2: _theme
      Content__PathMappings__pages__3: content/pages
      Content__PathMappings__blogs__0: Pages
      Content__PathMappings__blogs__1: _storeId
      Content__PathMappings__blogs__2: blogs
      Content__AzureBlobStorage__RootPath: cms
      Content__AzureBlobStorage__AllowBlobPublicAccess: false
      Content__AzureBlobStorage__ConnectionString: BlobEndpoint=https://qademovc3.blob.core.windows.net/;QueueEndpoint=https://qademovc3.queue.core.windows.net/;FileEndpoint=https://qademovc3.file.core.windows.net/;TableEndpoint=https://qademovc3.table.core.windows.net/;SharedAccessSignature=sv=2022-11-02&ss=bfqt&srt=sco&sp=rwdlacupiytfx&se=2025-02-27T00:34:20Z&st=2024-02-26T16:34:20Z&spr=https&sig=QSyd83bPIqXYfQAK9AhGgdXaXYmPsSz450OGegOnZUE%3D
      #Content__AzureBlobStorage__ConnectionString: DefaultEndpointsProtocol=https;AccountName=qademovc3;AccountKey=qPIpM63MI2P3ei6B1xIL4/DlKDqdsRj54z2GUtgCAeXPcMe8+mZiUvrvI5fjdyrovk331XmBlMFfAEFAjCnvtw==;EndpointSuffix=core.windows.net
      #VirtoCommerce__FileExtensionsWhiteList__0: ".pdf"
      VirtoCommerce__LicenseFilePath: app_data/VirtoCommerce.lic
      VirtoCommerce__LicensePublicKeyPath: app_data/public.key
      VirtoCommerce__LicensePrivateKeyPath: app_data/private.key
      VirtoCommerce__LocalUploadFolderPath: app_data/uploads
      VirtoCommerce__Hangfire__JobStorageType: SqlServer
      VirtoCommerce__Hangfire__WorkerCount: 2
      VirtoCommerce__Hangfire__SqlServerStorageOptions__InactiveStateExpirationTimeout: 00:01:00
      VirtoCommerce__Hangfire__Queues__items_0: default
      VirtoCommerce__Hangfire__Queues__items_1: index_worker
      VirtoCommerce__Licensing__LicensePrivateKeyPath: /opt/virtocommerce/platform/license/VirtoCommerce.lic
      Logging__LogLevel__Default: Information
      PasswordLogin__DetailedErrors: true
      Payments__AuthorizeNet__ApiLogin: 52B9X7vb4
      #Payments__AuthorizeNet__SHA2Hash: FA6D2B37A7E9105942D2D184F1B2DBD8D9CA85611DE55B2267A6F7E0D7E49ACD9A6BC238CE068E75CA14ACFAD734F700FD94DCAB20353DD4D32D9BABE72DBBE4
      Payments__AuthorizeNet__TxnKey: 6QzDf3843wVRp4vx
      Tax__Avalara__AccountNumber: 2000188799
      Tax__Avalara__LicenseKey: 16BC3F87E836E15C
      APPINSIGHTS_INSTRUMENTATIONKEY: dfe0b99d-faa5-4452-83c9-86e98e592465
      VirtoCommerce__ApplicationInsights__RoleName: This is QA role
      VirtoCommerce__ApplicationInsights__RoleInstance: This is instance of QA      
      Videos__GoogleApiKey: AIzaSyD5A4oFeSgaMQnMo3OiaqUSJ23SQGELiA4
      Caching__CacheEnabled: true
      Authorization__ReturnPasswordHash: true
      Authorization__AllowApiAccessForCustomers: false
      IdentityOptions__Password__RequiredLength: 3
      IdentityOptions__Password__RequireDigit: false
      IdentityOptions__Password__RequireNonAlphanumeric: false
      IdentityOptions__Password__RequireUppercase: false
      IdentityOptions__Password__RequireLowercase: false
      IdentityOptions__Password__requiredUniqueChars: 2
      IdentityOptions__Password__PasswordChangeByAdminEnabled: true
      IdentityOptions__Lockout__AutoAccountsLockoutJobEnabled: false
      IdentityOptions__Lockout__LockoutMaximumDaysFromLastLogin: 3
      IdentityOptions__Lockout__CronAutoAccountsLockoutJob: 0/5 * * * *
      IdentityOptions__User__RemindPasswordExpiryInDays: 10
      IdentityOptions__User__MaxPasswordAge: 90
      IdentityOptions__User__RequireUniqueEmail: true
      IdentityOptions__Lockout__MaxFailedAccessAttempts: 5
      IdentityOptions__Lockout__DefaultLockoutTimeSpan: 00:02:00
      #FrontendSecurity__OrganizationMaintainerRole: Organization maintainer
      EventBus__Connections__0__Name: AzureEventGridApps1
      EventBus__Connections__0__ProviderName: AzureEventGrid
      #EventBus__Connections__0__ConnectionOptionsSerialized: >-
      #{'ConnectionString': 'https://test-event-grid-dont-delete.westus-1.eventgrid.azure.net/api/events', 'AccessKey': 'kvpXOgw5MiNjBeBKdroX1r45UvZloXMwlM7i1TyqoiI='}  
      EventBus__Subscriptions__0__ConnectionName: AzureEventGridApps
      EventBus__Subscriptions__0__Name: TestSubscriptionAppS
      EventBus__Subscriptions__0__Events__0__EventId: VirtoCommerce.Platform.Core.Security.Events.UserChangedEvent
      AzureAd__Priority: 1
      PasswordLogin__Priority: 0
      #skyflow deprecated settings
      #Payments__Skyflow__tokenURI: https://manage.skyflowapis.com/v1/auth/sa/oauth/token
      #Payments__Skyflow__DefaultConnection__name: 52B9X7vb4
      #Payments__Skyflow__DefaultCOnnection__connectionUrl: https://ebfc9bee4242.gateway.skyflowapis.com/v1/gateway/outboundRoutes/gfb5ce07e91340efac348a2df035c513/xml/v1/request.api
      # Skyflow settings
      Payments__Skyflow__tokenURI: https://manage.skyflowapis.com/v1/auth/sa/oauth/token
      Payments__Skyflow__vaultURI: https://ebfc9bee4242.vault.skyflowapis.com
      Payments__Skyflow__gatewayURI: https://ebfc9bee4242.gateway.skyflowapis.com
      Payments__Skyflow__vaultId: c1aeec61ad7c46c2b724f004a7658b2f
      Payments__Skyflow__tableName: credit_cards
      Payments__Skyflow__TargetPaymentMethod: AuthorizeNetPaymentMethod
      Payments__Skyflow__TargetConnectionRoute: gfb5ce07e91340efac348a2df035c513/xml/v1/request.api
      AuditLogOptions__CanConfigureTrackingEvents: true
      AuditLogOptions__EntityOptions__0__TypeFullName: VirtoCommerce.OrdersModule.Core.Model.CustomerOrder
      AuditLogOptions__EntityOptions__0__NameProperty: Number
      AuditLogOptions__EntityOptions__0__UntrackedProperties__0: StoreId
      AuditLogOptions__EntityOptions__1__TypeFullName: VirtoCommerce.Platform.Core.Settings.ObjectSettingEntry
      AuditLogOptions__EntityOptions__1__NameProperty: Name
      AuditLogOptions__EntityOptions__2__TypeFullName: VirtoCommerce.CatalogModule.Core.Model.PropertyValue
      AuditLogOptions__EntityOptions__2__NameProperty: PropertyName
      AuditLogOptions__EntityOptions__3__TypeFullName: VirtoCommerce.CatalogModule.Core.Model.CatalogProduct
      AuditLogOptions__EntityOptions__3__NameProperty: Code
      AuditLogOptions__EntityOptions__4__TypeFullName: VirtoCommerce.CatalogModule.Core.Model.Property
      AuditLogOptions__EntityOptions__4__NameProperty: Name
    secretConfig:
      Payments__AuthorizeNet__TxnKey: authorizenet-txnkey-vs
      Payments__Skyflow__PaymentFormAccount__clientID: skyflow-paymentformaccount-clientid
      Payments__Skyflow__PaymentFormAccount__keyID: skyflow-paymentformaccount-keyid
      Payments__Skyflow__PaymentFormAccount__privateKey: skyflow-paymentformaccount-privatekey
      Payments__Skyflow__IntegrationsAccount__clientID: skyflow-integrationsaccount-clientid
      Payments__Skyflow__IntegrationsAccount__keyID: skyflow-integrationsaccount-keyid
      Payments__Skyflow__IntegrationsAccount__privateKey: skyflow-integrationsaccount-privatekey
      Notifications__SendGrid__ApiKey: sendkey
      Notifications__Smtp__Password: smtppasswordyandex
      Search__ElasticAppSearch__PrivateApiKey: elasticappsearch
      Serilog__WriteTo__1__Args__connectionString: connectionstringaiqa
      EventBus__Connections__0__ConnectionOptionsSerialized: eventbusconnection
      #Assets__AzureBlobStorage__ConnectionString: azureblobconnectionstring
      PushMessages__FcmSenderOptions__PrivateKey: firebase-privatekey

  storefront:
    enabled: false
    imageRepository: virtopaasregistrymain.azurecr.io/vcptcore/storefront
    imageTag: 6.43.0-alpha.1043-vcst-905-login-is-admin-0550785e
    servicePlan: S1
    config:
      Reload: 21
      DOTNET_USE_POLLING_FILE_WATCHER: true
      SnapshotCollectorConfiguration__IsEnabled: false
      VirtoCommerce__DefaultStore: B2B-store
      VirtoCommerce__Endpoint__Password: store
      CookieAuthenticationOptions__ExpireTimeSpan: 10:00:00
      Swagger__UI__Enable: true
      #ConnectionStrings__ContentConnectionString: provider=AzureBlobStorage;rootPath=cms;DefaultEndpointsProtocol=https;AccountName=qademovc3;AccountKey=qPIpM63MI2P3ei6B1xIL4/DlKDqdsRj54z2GUtgCAeXPcMe8+mZiUvrvI5fjdyrovk331XmBlMFfAEFAjCnvtw==;EndpointSuffix=core.windows.net
    themes:
      B2B-store: https://vc3prerelease.blob.core.windows.net/packages/vc-theme-b2b-vue-2.2.0-pr-1210-f4e7-f4e7298a.zip
  ingress: {}
  customApps:
    app1:
      enabled: false
      servicePlan: S2
      type: platform
      name: platform2
      imageRepository: virtopaasregistrymain.azurecr.io/vcptcore/platform
      imageTag: 3.299.0-c586ce4
      ingressPath: /
      config:
        Reload: 50
        DOTNET_USE_POLLING_FILE_WATCHER: true
        VirtoCommerce__Hangfire__Queues__items_0: default
        VirtoCommerce__Hangfire__Queues__items_1: index_worker
        Notifications__DefaultSender: azure_25da07ed75daacae20578a7a7dc58541@azure.com
        Notifications__Gateway: SendGrid
        Notifications__Smtp__Host: smtp.sendgrid.net
        Notifications__Smtp__Login: apikey
        VirtoCommerce__ApplicationInsights__RoleName: This is QA role platfrom2
        VirtoCommerce__ApplicationInsights__RoleInstance: This is instance of QA2
      secretConfig:
        Notifications__SendGrid__ApiKey: sendkey
        Notifications__Smtp__Password: smtppassword
        Search__ElasticAppSearch__PrivateApiKey: elasticappsearch
        Search__AzureSearch__Key: azureseearchkey
    app2:
      enabled: false
      servicePlan: P1
      type: platform
      name: platfrom1
      imageRepository: virtopaasregistrymain.azurecr.io/vcptcore/platform
      imageTag: 3.301.0-alpha.12635-dev-9d839500-a310da3
      ingressPath: /
      config:
        DOTNET_USE_POLLING_FILE_WATCHER: true
        VirtoCommerce__Hangfire__Queues__items_0: default
        VirtoCommerce__Hangfire__Queues__items_1: index_worker
        Notifications__DefaultSender: azure_25da07ed75daacae20578a7a7dc58541@azure.com
        Notifications__Gateway: SendGrid
        Notifications__Smtp__Host: smtp.sendgrid.net
        Notifications__Smtp__Login: apikey
        VirtoCommerce__ApplicationInsights__RoleName: This is QA role platfrom1
        VirtoCommerce__ApplicationInsights__RoleInstance: This is instance of QA1
      secretConfig:
        Notifications__SendGrid__ApiKey: sendkey
        Notifications__Smtp__Password: smtppassword
        Search__ElasticAppSearch__PrivateApiKey: elasticappsearch
  routes:
  - host: vcptcore-qa-storefront.govirto.com
    root: B2B-store
    paths:
    - path: /xapi
      route: platform
    - path: /files
      route: platform
    - path: /connect/token
      route: platform
    - path: /graphql
      route: platform
    - path: /revoke/token
      route: platform
    - path: /api/files
      route: platform
    - path: /externalsignin
      route: platform
    - path: /signin-oidc
      route: platform
  protectedParameters:
   #- themes.B2B-store
   - storefront.image.tag
   - platform.image.tag
  version: 3.210
